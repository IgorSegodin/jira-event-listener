plugins {
    id 'java'
}

group 'org.isegodin.jira'
version '0.0.1'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    maven {
        url "https://maven.atlassian.com/content/repositories/atlassian-public/"
    }
}

dependencies {
    compileOnly('com.atlassian.jira:jira-api:7.1.0-QR20151229171111') { transitive = false }
    compileOnly('com.atlassian.annotations:atlassian-annotations:0.16')
    compileOnly('org.slf4j:slf4j-api:1.7.10')
    compileOnly('org.codehaus.jackson:jackson-mapper-asl:1.9.13')
    compileOnly 'org.projectlombok:lombok:1.18.4'

    compile('com.rabbitmq:amqp-client:5.6.0') { transitive = false }

    testCompile group: 'junit', name: 'junit', version: '4.12'
}

jar {
    doFirst {
        from {
            configurations.compile.collect { println it; it.isDirectory() ? it : zipTree(it) }
        }
        exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'
    }
}
